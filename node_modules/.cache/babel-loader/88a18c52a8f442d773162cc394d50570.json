{"ast":null,"code":"var _jsxFileName = \"/home/snoopsis/nodeSites/backPortfolio/client/src/components/pages/Home.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport AuthContext from \"../../context/auth/authContext\";\nimport BlogContext from \"../../context/blog/BlogContext\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport axios from \"axios\";\n\nconst Home = () => {\n  const authContext = useContext(AuthContext);\n  const blogContext = useContext(BlogContext);\n  const {\n    listPosts,\n    posts,\n    deletePost,\n    editingPost,\n    closeEditing,\n    editing,\n    updatePost,\n    addPost,\n    current,\n    newP,\n    newPost\n  } = blogContext;\n  useEffect(() => {\n    authContext.loadUser();\n    listPosts(); // eslint-disable-next-line\n  }, [listPosts]);\n\n  function handleEditorChange(content, editor) {\n    setPost({\n      titulo: post.titulo,\n      cat: post.cat,\n      texto: content,\n      id: post.id,\n      ativo: post.ativo,\n      img: post.img\n    });\n  }\n\n  const onChange = e => setPost({ ...post,\n    [e.target.name]: e.target.value\n  });\n\n  const [post, setPost] = useState({\n    titulo: \"\",\n    cat: \"\",\n    texto: \"\",\n    ativo: null,\n    img: \"\"\n  });\n  const [file, setFile] = useState([]);\n\n  function onChangeHandler(event) {\n    var files = event.target.files;\n    setFile({\n      selectedFile: files,\n      loaded: 0\n    });\n    setPost({ ...post,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function onClickHandler() {\n    const data = new FormData();\n\n    for (var x = 0; x < file.selectedFile.length; x++) {\n      data.append(\"file\", file.selectedFile[x]);\n    }\n\n    axios.post(\"http://localhost:5000/upload\", data, {// receive two    parameter endpoint url ,form data\n    }).then(res => {\n      // then print response status\n      console.log(res.statusText);\n    }).catch(err => {\n      console.log(\"Upload falhou!!!\");\n    });\n  }\n\n  function editarPost(id, titulo, texto, cat, ativo, img) {\n    setPost({\n      id,\n      titulo,\n      texto,\n      cat,\n      ativo,\n      img\n    });\n    editingPost({\n      id,\n      titulo,\n      texto,\n      cat,\n      ativo,\n      img\n    });\n  }\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (current === null) {\n      onClickHandler();\n      addPost(post);\n      setPost({\n        titulo: \"\",\n        cat: \"\",\n        texto: \"\",\n        ativo: null,\n        file: \"\",\n        img: \"\"\n      });\n    } else {\n      updatePost(post);\n      setPost({\n        titulo: \"\",\n        cat: \"\",\n        texto: \"\",\n        ativo: null,\n        img: \"\"\n      });\n    }\n  };\n\n  function fechar() {\n    closeEditing();\n    setPost({\n      titulo: \"\",\n      cat: \"\",\n      texto: \"\",\n      ativo: null,\n      img: \"\"\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, editing === false && /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      padding: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark\",\n    onClick: newPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, \"Add Post\"))), editing === true && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: post.titulo,\n    name: \"titulo\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, \"Categoria\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: post.cat,\n    name: \"cat\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, \"Imagem\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: post.img,\n    name: \"img\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    style: {\n      maxWidth: \"190px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Status:\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"ativo\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, post.ativo === true ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, \"Ativo\") : /*#__PURE__*/React.createElement(\"option\", {\n    value: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }\n  }, \"Inativo\"), post.ativo === true ? /*#__PURE__*/React.createElement(\"option\", {\n    value: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }, \"Inativo\") : /*#__PURE__*/React.createElement(\"option\", {\n    value: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, \"Ativo\"))), /*#__PURE__*/React.createElement(Editor, {\n    initialValue: post.texto,\n    apiKey: \"491uxmxfbtq3itnrxvxsqpwptns8wkxt6eap45r524ltapio\",\n    init: {\n      height: 500,\n      menubar: true,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount\", \"code\", \"codesample\"],\n      toolbar: \"undo redo | formatselect | bold italic backcolor | \\\r\n             alignleft aligncenter alignright alignjustify | \\\r\n             bullist numlist outdent indent | removeformat | help | code | codesample\"\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, \"Salvar\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: fechar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, \"Fechar\")), newP === true && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: post.titulo,\n    name: \"titulo\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, \"Categoria\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: post.cat,\n    name: \"cat\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, \"Imagem Principal\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    multiple: true,\n    className: \"p\",\n    onChange: onChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    style: {\n      maxWidth: \"190px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"labels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Status:\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"status\",\n    onChange: onChange,\n    className: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"TRUE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"Ativo\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"FALSE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, \"Inativo\"))), /*#__PURE__*/React.createElement(Editor, {\n    initialValue: post.texto,\n    apiKey: \"491uxmxfbtq3itnrxvxsqpwptns8wkxt6eap45r524ltapio\",\n    init: {\n      height: 500,\n      menubar: true,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount\", \"code\", \"codesample\"],\n      toolbar: \"undo redo | formatselect | bold italic backcolor | \\\r\n             alignleft aligncenter alignright alignjustify | \\\r\n             bullist numlist outdent indent | removeformat | help | code | codesample\"\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, \"Salvar\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: closeEditing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, \"Fechar\"))), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"highlight responsive-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }\n  }, editing === false && !newP && /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, \"Categoria\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 15\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }\n  }, !editing && !newP && posts.map(i => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, i.titulo), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }, i.cat), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, i.ativo === true && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-lightbulb fa-2x\",\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 21\n    }\n  }) || i.ativo === false && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-lightbulb fa-2x\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary p\",\n    onClick: () => editarPost(i._id, i.titulo, i.texto, i.cat, i.ativo, i.img),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger p\",\n    onClick: () => deletePost(i._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 21\n    }\n  }))))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/snoopsis/nodeSites/backPortfolio/client/src/components/pages/Home.js"],"names":["React","useContext","useEffect","useState","AuthContext","BlogContext","Editor","axios","Home","authContext","blogContext","listPosts","posts","deletePost","editingPost","closeEditing","editing","updatePost","addPost","current","newP","newPost","loadUser","handleEditorChange","content","editor","setPost","titulo","post","cat","texto","id","ativo","img","onChange","e","target","name","value","file","setFile","onChangeHandler","event","files","selectedFile","loaded","onClickHandler","data","FormData","x","length","append","then","res","console","log","statusText","catch","err","editarPost","onSubmit","preventDefault","fechar","padding","maxWidth","height","menubar","plugins","toolbar","map","i","_id","color"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\nimport BlogContext from \"../../context/blog/BlogContext\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport axios from \"axios\";\r\n\r\nconst Home = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const blogContext = useContext(BlogContext);\r\n\r\n  const {\r\n    listPosts,\r\n    posts,\r\n    deletePost,\r\n    editingPost,\r\n    closeEditing,\r\n    editing,\r\n    updatePost,\r\n    addPost,\r\n    current,\r\n    newP,\r\n    newPost\r\n  } = blogContext;\r\n\r\n  useEffect(() => {\r\n    authContext.loadUser();\r\n    listPosts();\r\n\r\n    // eslint-disable-next-line\r\n  }, [listPosts]);\r\n\r\n  function handleEditorChange(content, editor) {\r\n    setPost({\r\n      titulo: post.titulo,\r\n      cat: post.cat,\r\n      texto: content,\r\n      id: post.id,\r\n      ativo: post.ativo,\r\n      img: post.img\r\n    });\r\n  }\r\n\r\n  const onChange = e => setPost({ ...post, [e.target.name]: e.target.value });\r\n\r\n  const [post, setPost] = useState({\r\n    titulo: \"\",\r\n    cat: \"\",\r\n    texto: \"\",\r\n    ativo: null,\r\n    img: \"\"\r\n  });\r\n\r\n  const [file, setFile] = useState([]);\r\n\r\n  function onChangeHandler(event) {\r\n    var files = event.target.files;\r\n    setFile({ selectedFile: files, loaded: 0 });\r\n    setPost({ ...post, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  function onClickHandler() {\r\n    const data = new FormData();\r\n    for (var x = 0; x < file.selectedFile.length; x++) {\r\n      data.append(\"file\", file.selectedFile[x]);\r\n    }\r\n    axios\r\n      .post(\"http://localhost:5000/upload\", data, {\r\n        // receive two    parameter endpoint url ,form data\r\n      })\r\n      .then(res => {\r\n        // then print response status\r\n        console.log(res.statusText);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Upload falhou!!!\");\r\n      });\r\n  }\r\n\r\n  function editarPost(id, titulo, texto, cat, ativo, img) {\r\n    setPost({ id, titulo, texto, cat, ativo, img });\r\n    editingPost({ id, titulo, texto, cat, ativo, img });\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (current === null) {\r\n      onClickHandler();\r\n      addPost(post);\r\n      setPost({\r\n        titulo: \"\",\r\n        cat: \"\",\r\n        texto: \"\",\r\n        ativo: null,\r\n        file: \"\",\r\n        img: \"\"\r\n      });\r\n    } else {\r\n      updatePost(post);\r\n      setPost({\r\n        titulo: \"\",\r\n        cat: \"\",\r\n        texto: \"\",\r\n        ativo: null,\r\n        img: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  function fechar() {\r\n    closeEditing();\r\n    setPost({\r\n      titulo: \"\",\r\n      cat: \"\",\r\n      texto: \"\",\r\n      ativo: null,\r\n      img: \"\"\r\n    });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container\">\r\n        {editing === false && (\r\n          <ul style={{ padding: 15 }}>\r\n            <li>\r\n              <button className=\"btn btn-dark\" onClick={newPost}>\r\n                Add Post\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        )}\r\n\r\n        {editing === true && (\r\n          <form onSubmit={onSubmit}>\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Titulo</label>\r\n              <br />\r\n              <input\r\n                value={post.titulo}\r\n                name=\"titulo\"\r\n                onChange={onChange}\r\n                className=\"p\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Categoria</label>\r\n              <br />\r\n              <input\r\n                value={post.cat}\r\n                name=\"cat\"\r\n                onChange={onChange}\r\n                className=\"p\"\r\n              ></input>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Imagem</label>\r\n              <br />\r\n              <input\r\n                value={post.img}\r\n                name=\"img\"\r\n                onChange={onChange}\r\n                className=\"p\"\r\n              ></input>\r\n            </div>\r\n\r\n            <div className=\"form-group\" style={{ maxWidth: \"190px\" }}>\r\n              <label className=\"labels\">Status:</label>\r\n\r\n              <select name=\"ativo\" onChange={onChange} className=\"p\">\r\n                {post.ativo === true ? (\r\n                  <option value=\"true\">Ativo</option>\r\n                ) : (\r\n                  <option value=\"false\">Inativo</option>\r\n                )}\r\n\r\n                {post.ativo === true ? (\r\n                  <option value=\"false\">Inativo</option>\r\n                ) : (\r\n                  <option value=\"true\">Ativo</option>\r\n                )}\r\n              </select>\r\n            </div>\r\n            <Editor\r\n              initialValue={post.texto}\r\n              apiKey=\"491uxmxfbtq3itnrxvxsqpwptns8wkxt6eap45r524ltapio\"\r\n              init={{\r\n                height: 500,\r\n                menubar: true,\r\n                plugins: [\r\n                  \"advlist autolink lists link image charmap print preview anchor\",\r\n                  \"searchreplace visualblocks code fullscreen\",\r\n                  \"insertdatetime media table paste code help wordcount\",\r\n                  \"code\",\r\n                  \"codesample\"\r\n                ],\r\n                toolbar:\r\n                  \"undo redo | formatselect | bold italic backcolor | \\\r\n             alignleft aligncenter alignright alignjustify | \\\r\n             bullist numlist outdent indent | removeformat | help | code | codesample\"\r\n              }}\r\n              onEditorChange={handleEditorChange}\r\n            />\r\n            <br />\r\n            <button className=\"btn btn-success\" type=\"submit\">\r\n              Salvar\r\n            </button>\r\n            <button className=\"btn btn-danger\" onClick={fechar}>\r\n              Fechar\r\n            </button>\r\n          </form>\r\n        )}\r\n        {newP === true && (\r\n          <form onSubmit={onSubmit}>\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Titulo</label>\r\n              <br />\r\n              <input\r\n                value={post.titulo}\r\n                name=\"titulo\"\r\n                onChange={onChange}\r\n                className=\"p\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Categoria</label>\r\n              <br />\r\n              <input\r\n                value={post.cat}\r\n                name=\"cat\"\r\n                onChange={onChange}\r\n                className=\"p\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"labels\">Imagem Principal</label>\r\n              <br />\r\n              <input\r\n                type=\"file\"\r\n                name=\"file\"\r\n                multiple\r\n                className=\"p\"\r\n                onChange={onChangeHandler}\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\" style={{ maxWidth: \"190px\" }}>\r\n              <label className=\"labels\">Status:</label>\r\n\r\n              <select name=\"status\" onChange={onChange} className=\"p\">\r\n                <option value=\"TRUE\">Ativo</option>\r\n                <option value=\"FALSE\">Inativo</option>\r\n              </select>\r\n            </div>\r\n            <Editor\r\n              initialValue={post.texto}\r\n              apiKey=\"491uxmxfbtq3itnrxvxsqpwptns8wkxt6eap45r524ltapio\"\r\n              init={{\r\n                height: 500,\r\n                menubar: true,\r\n                plugins: [\r\n                  \"advlist autolink lists link image charmap print preview anchor\",\r\n                  \"searchreplace visualblocks code fullscreen\",\r\n                  \"insertdatetime media table paste code help wordcount\",\r\n                  \"code\",\r\n                  \"codesample\"\r\n                ],\r\n                toolbar:\r\n                  \"undo redo | formatselect | bold italic backcolor | \\\r\n             alignleft aligncenter alignright alignjustify | \\\r\n             bullist numlist outdent indent | removeformat | help | code | codesample\"\r\n              }}\r\n              onEditorChange={handleEditorChange}\r\n            />\r\n            <br />\r\n            <button className=\"btn btn-success\" type=\"submit\">\r\n              Salvar\r\n            </button>\r\n            <button className=\"btn btn-danger\" onClick={closeEditing}>\r\n              Fechar\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n      <table className=\"highlight responsive-table\">\r\n        {editing === false && !newP && (\r\n          <thead>\r\n            <tr>\r\n              <th>Titulo</th>\r\n              <th>Categoria</th>\r\n              <th>Estado</th>\r\n              <th className=\"text-center\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n        )}\r\n        <tbody>\r\n          {!editing &&\r\n            !newP &&\r\n            posts.map(i => (\r\n              <tr key={i._id}>\r\n                <td>{i.titulo}</td>\r\n                <td>{i.cat}</td>\r\n                <td className=\"text-center\">\r\n                  {(i.ativo === true && (\r\n                    <i\r\n                      className=\"fa fa-lightbulb fa-2x\"\r\n                      style={{ color: \"green\" }}\r\n                    ></i>\r\n                  )) ||\r\n                    (i.ativo === false && (\r\n                      <i\r\n                        className=\"fa fa-lightbulb fa-2x\"\r\n                        style={{ color: \"red\" }}\r\n                      ></i>\r\n                    ))}\r\n                </td>\r\n                <td className=\"text-center\">\r\n                  <button\r\n                    className=\"btn btn-primary p\"\r\n                    onClick={() =>\r\n                      editarPost(\r\n                        i._id,\r\n                        i.titulo,\r\n                        i.texto,\r\n                        i.cat,\r\n                        i.ativo,\r\n                        i.img\r\n                      )\r\n                    }\r\n                  >\r\n                    <i className=\"fa fa-edit\"></i>\r\n                  </button>\r\n\r\n                  <button\r\n                    className=\"btn btn-danger p\"\r\n                    onClick={() => deletePost(i._id)}\r\n                  >\r\n                    <i className=\"fa fa-trash-alt\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}